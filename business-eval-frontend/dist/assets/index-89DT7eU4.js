import{r as d,u as U,j as s}from"./index-RnadGKpr.js";import{G as c}from"./iconBase-BVq9QT-B.js";import{u as F}from"./buisnessSrore-C_Jv1e5S.js";import"./axios-Bmm4lkOe.js";const G="data:image/svg+xml,%3csvg%20width='35'%20height='34'%20viewBox='0%200%2035%2034'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20x='0.714294'%20y='0.214294'%20width='33.5714'%20height='33.5714'%20fill='url(%23pattern0_30_10)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_30_10'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_30_10'%20transform='scale(0.01)'/%3e%3c/pattern%3e%3cimage%20id='image0_30_10'%20width='100'%20height='100'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABUNJREFUeAHtnEmIJEUUhrNnxA3EFVRosKap+P+XVd0Xe1xPLYgnRTyM4DaoIyp48SAic3MDBUW8De4biguiqIN6cRTXwaMwHmQ8qIgjKqjgxrTyhiwoa6oqO7sjIiO6X0OS1ZWZ7/3ve5kvKiMisyjszwgYASNgBIyAETACRsAIGAEjYASMgBEwAkbACBgBI2AEjIARMAJGIFUCm0huIXkByUurRT9vKYpiU6qi15Wuubm54wHcQPItAL+S/HfcottE5E2SO/SYdQUhhWBE5GQADwD4bVwCpn1XJe7+fr9/UgqxZK+B5FUkf5wGfYXbDojIFdkDaSuApaWlI0TkkRXCHlu6Jhy7S223FVeWfnu93pEA3pgAtAn8sfs6515XH1nCaUH0jIi8ECoZA7vOueeKophpIb68XIrIbQNoEda35kUnstqyLB3JPyMk4lApA/AXSUYOMx93JHfHSsbAj7ZV+RCKqJTk1gGkyOvlsizPjBhqHq5IPho5EcO/wHblQSmSSr0vIPlLWwkB8FNRFJsjhZu+G+fcOW0lY+AXwFnpk4qkEMAtAzAtrm+OFG76bkg+1GIiDrUlIvJg+qQiKQTwVNsJAfBkpHDTdxOjq6Qu4aohfVKRFJJ8rA5Y6O3asxwp3PTdkLwnNPA6+yJyZ/qkIikkeXUdsNDbReTKSOGm76YsyzNCA6+zrxrSJxVRIcl9ddBCbQfwRcRQ83AlIjtDAa+zC+COPChFVFnNLGk8q6QOdt12AL8DOCViqPm4AnBvHcAA2+/Kh1BkpYuLi8eS3B8A+nBX+/Dnr2ZnZ4+JHGZe7rTntxpaHQYX4rMOFW/Ni05LanVCG8mDAa+UZQDbWwovT7ckrwfwj++kVDavy5NKy6pF5CKSBzwm5Qfn3IUth5W3+7IsT/fQG7ysE+N6vd5pedNISL02wM65lxs2+Npwv2SzSgImsrqB3E7yCZJ7taRpkqpEaXnb65x7HMA19ghCwESYaSNgBIyAETACRiBDAp1O5+jQsmP4CB1DUPsLCwsnishNJPeQ/DCos6IoAHzknHtPRG5U36H9ZWO/3+93ST6sA0WDLhIAf2tXfKgg1PbIDeYfJJ/pdru9UD6TtysiHZLPTunVvTxUEFVv8rgu/YMi8vSGmvCgtbsaGZz66JqWlIAJ+XRwNU5Yq7a7u93uUaE0JGFXRM4D8OUECIedsSJysW/h1TtRDvM1QdO+sizP9a0hBXszJG9vOr4B4DufDW7VD/b9BPhjk6TtmT4ZvG4eodYxa5KvNIEwsu8eH+Pe1Xj9ByO2xyZhwj4vZv9TWc9uAJ9MCLAJjHfW8lafTqdzAoB316pD2zW1lULJaayB5HEiUtd4NknK/tXUcxE5H8DXa03G0PEfa2yNgbR5gJYHEXl/KIgm4Kftuywir67keUAAZ5N8jeSybx16QxnyPsl37jY75972DWGMvW90IEqnoIrItdWyU78j+e2Y/aclejXbdmfx5C7J+yLAWA1A78fo/ZTvs9mrPRG5JESJSDjBOr/rMq8QfRnT2SEAfk4YnvcrRGPVlw7Mz8+f6oujNzs6u2OjJWMQL4DnvYH0Yaia0BbkDBwEnfo6qQl4JD9LHVhofc65z5PoXhGRpdDB5mJfWfioOGuyQXJbLsAi6Ny2Jpg+DraE/O/t2paQCGd9kx8rlhBLyEids5JlJatJCYm9r5UsK1lWsqZddXaF2BUycoV0u93ZqmHXG8QNvSiLETz2rxEwAkbACBgBI2AEjIARMAJGwAgYASNgBIyAETACRsAIGAEjYASMwAiB/wDDNwI0vqMQ1wAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e";function H(i){return c({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(i)}function L(i){return c({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(i)}function R(i){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(i)}function w(i){return c({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(i)}function X(){var m,p;const[i,B]=d.useState(!1),[l,y]=d.useState({key:"",direction:""}),{fetchAllBusiness:o,allBusiness:x,deleteBusiness:k}=F(),h=U(),I=localStorage.getItem("user_id"),E=localStorage.getItem("token");d.useEffect(()=>{o()},[]);const C=()=>{B(!i)},D=()=>{localStorage.removeItem("user_id"),window.location.href="/"},_=async e=>{console.log(`${e} deleted`);try{const t=await k(e);t&&o(),console.log(t)}catch(t){console.log(t)}},J=e=>{let t="ascending";l.key===e&&l.direction==="ascending"&&(t="descending"),y({key:e,direction:t})},g=()=>x?[...x].sort((t,n)=>{if(!t.metrics||!n.metrics)return 0;const r=t.metrics[l.key],a=n.metrics[l.key];return r<a?l.direction==="ascending"?-1:1:r>a?l.direction==="ascending"?1:-1:0}):[],S=({text:e,children:t})=>{const[n,r]=d.useState(!1);return s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:t}),n&&s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 mt-1 w-auto p-2 text-sm text-black bg-white rounded shadow-lg z-10",children:e})]})};return s.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] pb-6 px-4 sm:px-6 lg:px-12",children:[s.jsxs("div",{className:"pt-6 flex justify-between items-center",children:[s.jsx("h1",{className:"text-[#272727] text-[24px] leading-[36px] font-medium",children:"Business Evaluations"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>{h("/")},className:"bg-[#272727] text-white font-medium px-4 py-2 rounded-[10px] transition hover:bg-[#3B3B3B]",children:"Evaluate Business"}),I&&E&&s.jsx("div",{onClick:C,className:"border-[2px] border-black rounded-full cursor-pointer",children:s.jsx("img",{className:"p-2",src:G,alt:""})}),i&&s.jsx("div",{className:"absolute right-10 top-[70px] mt-2 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:s.jsx("button",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left font-semibold",onClick:D,children:"Logout"})})]})]}),s.jsx("div",{className:"mt-6 text-start",children:s.jsx("h2",{className:"text-[26px] text-[#2B3674] leading-[32px] font-bold",children:"Dashboard"})}),s.jsxs("div",{className:"mt-4 grid grid-cols-6 gap-4",children:[s.jsxs("div",{className:"col-span-1 border min-h-[620px] px-4 py-4 rounded-[10px] shadow",children:[s.jsx("h3",{className:"text-[#3B37FF] text-[16px] font-medium leading-[25px]",children:"Businesses Chosen for Comparison"}),s.jsx("div",{className:"flex flex-col gap-4 text-[#2B3674] font-medium mt-6",children:(m=g())==null?void 0:m.map((e,t)=>{var n,r;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h1",{className:"hover:text-blue-600 underline cursor-pointer",onClick:()=>{var a;return h(`/dashboard/${(a=e==null?void 0:e.data)==null?void 0:a._id}`)},children:(n=e==null?void 0:e.data)==null?void 0:n.business_name}),s.jsx(S,{text:(r=e==null?void 0:e.data)==null?void 0:r.business_notes,children:s.jsx(R,{className:"ml-2 cursor-pointer text-[#3B37FF] hover:text-[#3B37FF]/60"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(w,{className:"cursor-pointer text-[#3B37FF] hover:text-[#3B37FF]/60",onClick:()=>{var a;return _((a=e==null?void 0:e.data)==null?void 0:a._id)}})})]},t)})})]}),s.jsx("div",{className:"col-span-5 border p-2 rounded-[10px] shadow",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-center border-collapse border border-gray-300",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsx("tr",{className:"text-[#A3AED0] text-[14px] leading-[18px]",children:["roi","dscr","net_profit_margin","break_even_revenue","payback_period","equity_multiple","sde_multiple","gross_profit_margin","yearly_debt_payments","cash_flow_after_purchase"].map(e=>s.jsxs("th",{className:"px-4 py-2 border border-gray-300 cursor-pointer hover:bg-gray-200",onClick:()=>J(e),children:[e.replace(/_/g," ").toUpperCase(),s.jsxs("div",{className:"inline-flex ml-2",children:[s.jsx(L,{className:`inline-block ${l.key===e&&l.direction==="ascending"?"text-blue-600":"text-gray-400"}`}),s.jsx(H,{className:`inline-block ml-1 ${l.key===e&&l.direction==="descending"?"text-blue-600":"text-gray-400"}`})]})]},e))})}),s.jsx("tbody",{className:"text-[#2B3674] text-[14px] leading-[24px] font-semibold",children:(p=g())==null?void 0:p.map((e,t)=>{var n,r,a,u,A,b,f,v,j,N;return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(n=e==null?void 0:e.metrics)==null?void 0:n.roi}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(r=e==null?void 0:e.metrics)==null?void 0:r.dscr}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(a=e==null?void 0:e.metrics)==null?void 0:a.net_profit_margin}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(u=e==null?void 0:e.metrics)==null?void 0:u.break_even_revenue}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(A=e==null?void 0:e.metrics)==null?void 0:A.payback_period}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(b=e==null?void 0:e.metrics)==null?void 0:b.equity_multiple}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(f=e==null?void 0:e.metrics)==null?void 0:f.sde_multiple}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(v=e==null?void 0:e.metrics)==null?void 0:v.gross_profit_margin}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(j=e==null?void 0:e.metrics)==null?void 0:j.yearly_debt_payments}),s.jsx("td",{className:"px-4 py-2 border border-gray-300",children:(N=e==null?void 0:e.metrics)==null?void 0:N.cash_flow_after_purchase})]},t)})})]})})})]})]})}export{X as default};
