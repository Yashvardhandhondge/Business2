import{r as m,a as P,u as S,j as s}from"./index-RnadGKpr.js";import{u as v}from"./ReactToastify-uMSh7ZjX.js";import{A as x,I as u}from"./index-Dvrz7xQh.js";import{Q as C,B as o}from"./react-toastify.esm-EMFeIvPm.js";import{u as a}from"./authStore-C0aLm_F4.js";import"./iconBase-BVq9QT-B.js";import"./clsx-B-dksMZM.js";import"./axios-Bmm4lkOe.js";const D=()=>{const{register:i,handleSubmit:p,formState:{errors:l}}=v(),[r,f]=m.useState(!1),[t,w]=m.useState(!1),F=a(e=>e.resetPassword),n=a(e=>e.isLoading),c=a(e=>e.error),h=P(),b=S(),{email:j,otp:g}=h.state||{},N=async e=>{const{newPassword:d,confirmPassword:y}=e;if(d!==y){o.error("Passwords don't match!");return}try{await F({otp:g,email:j,password:d}),o.success("Password reset successfully!"),setTimeout(()=>{b("/")},2e3)}catch{o.error("Failed to reset password. Please try again.")}};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-[#FAFAFA]",children:[s.jsx(C,{}),s.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center w-full max-w-md mx-auto text-center",children:[s.jsx("h1",{className:"text-[32px] font-[500] leading-[48px]",children:"Verification Successful!"}),s.jsx("p",{className:"text-[16px] font-normal leading-[24px] mt-[8px]",children:"Set Your New Password"}),s.jsxs("form",{onSubmit:p(N),className:"mt-[40px] w-full",children:[s.jsxs("div",{className:"relative mb-[30px]",children:[s.jsx("label",{htmlFor:"business_listing_price",className:"absolute left-[18px] top-[-10px] px-1 bg-[#f5f5ff] rounded text-[#3B37FF] text-[14px] z-10",children:"New password"}),s.jsx("input",{type:r?"text":"password",placeholder:"Enter your new password",...i("newPassword",{required:!0}),className:"w-full px-5 py-3 border border-[#8F8F8F40]/25 rounded-lg focus:outline-none bg-[#8F8F8F0D]/5"}),l.newPassword&&s.jsx("p",{className:"text-red-500",children:"New password is required"}),s.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer",onClick:()=>f(!r),children:r?s.jsx(x,{color:"#8F8F8F",size:24}):s.jsx(u,{color:"#8F8F8F",size:24})})]}),s.jsxs("div",{className:"relative mb-[34px]",children:[s.jsx("label",{htmlFor:"business_listing_price",className:"absolute left-[18px] top-[-10px] px-1 bg-[#f5f5ff] rounded text-[#3B37FF] text-[14px] z-10",children:"Confirm password"}),s.jsx("input",{type:t?"text":"password",placeholder:"Enter your confirm password",...i("confirmPassword",{required:!0}),className:"w-full px-5 py-3 border border-[#8F8F8F40]/25 rounded-lg focus:outline-none bg-[#8F8F8F0D]/5"}),l.confirmPassword&&s.jsx("p",{className:"text-red-500",children:"Confirm password is required"}),s.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer",onClick:()=>w(!t),children:t?s.jsx(x,{color:"#8F8F8F",size:24}):s.jsx(u,{color:"#8F8F8F",size:24})})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 bg-[#3B37FF] text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:n?"Setting Password...":"Set password"}),c&&s.jsx("p",{className:"text-red-500 mt-3",children:c})]})]}),s.jsx("div",{className:"py-4",children:s.jsx("p",{className:"text-center text-[#8F8F8F] text-sm font-medium",children:"Â© 2024 Business Evaluation Tool"})})]})};export{D as default};
